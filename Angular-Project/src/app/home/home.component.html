<div id="home-content">
  <mat-card id="profile-information">
    @if(user) {
      <div id="header">
        <mat-card-header id="profile-header">
          <button mat-card-avatar id="avatar"></button>
          <mat-card-title id="username"> {{ user.username }} </mat-card-title>
          <mat-card-subtitle id="description"><mat-icon>terrain</mat-icon>&nbsp;{{ numberOfItineraries }} itineraries saved</mat-card-subtitle>
        </mat-card-header>
        <button mat-icon-button id="logout" (click)="logout()">
          <mat-icon>logout</mat-icon>
        </button>
      </div>

      <mat-card-content id="profile-card">
        <div id="content">
          <div class="up-down-content">
            <span class="label">Email:</span>
            <div class="info">
              {{ user.email }}
            </div>
            <span class="label">Location:</span>
            <div class="info">
              {{ user.location }}
            </div>
          </div>
          <div class="up-down-content">
            <span class="label">Year of Birth:</span>
            <div class="info">
              {{ user.yearOfBirth }}
            </div>
            <span class="label">Gender:</span>
            <div class="info">
              {{ user.gender }}
            </div>
          </div>
        </div>
      </mat-card-content>
      <mat-divider></mat-divider>
    }
  </mat-card>
  <mat-card style="margin-bottom: 20px">
    @if(option == 1) {
      <mat-action-list class="action-buttons-card">
        <button class="action-buttons"
                style="margin-right: 20px; font-weight: bold; border-bottom: 2px solid var(--dark-blue);"
                (click)="changeOption(1)">My vacations</button>
        <button class="action-buttons"
                style="color: grey"
                (click)="changeOption(2)">User's guide</button>
      </mat-action-list>

      <mat-divider style="border-top-color: rgba(0,0,0,0.24)"></mat-divider>
      @if(vacationsList.length != 0) {
        <mat-card-content class="trip-guide-content" id="ticket">
          <div id="ticket-content">
            <div id="additional-information">
              <div id="first-class">FIRST CLASS</div>
              <img id="barcode" ngSrc="assets/images/barcode.png" alt="Barcode image" width="70" height="300" priority/>
            </div>

            <div id="ticket-informations">
              <h1 style="">Boarding pass</h1>
              <mat-divider style="border: 1px solid #000"></mat-divider>
              <br/>
              <div>Name of itinerary</div>
              <div><strong>{{ displayed?.title }}</strong></div>
              <br/>
              <div id="destination">
                <div class="destination-text">
                  <div>FROM</div>
                  <div><strong>{{ displayed?.location }}</strong></div>
                  <br/>
                  <div>FLIGHT DATE</div>
                  <div><strong>{{ displayed?.season == "" ? "Unknown" : displayed?.season }}</strong></div>
                </div>
                <div class="destination-text">
                  <div>TO</div>
                  <div><strong>{{ displayed?.destination }}</strong></div>
                  <br/>
                  <div>NO. POIS</div>
                  <div><strong>#{{ displayed?.poisNumber }}</strong></div>
                </div>
              </div>
            </div>
          </div>

          <mat-divider id="vertical-line" [vertical]="true"></mat-divider>
          <img id="ticket-image" [ngSrc]="displayed != undefined ? displayed.src : 'assets/images/no-image-available.jpg'" width="300" height="300" alt="An image with your itinerary" priority>
        </mat-card-content>

        <mat-action-list style="background-color: rgba(174, 195, 183, 0.65); display: flex; justify-content: space-between; align-items: center;">
          <button mat-icon-button (click)="back(displayed?.id)">
            <mat-icon>arrow_back_ios</mat-icon>
          </button>
          <button mat-icon-button (click)="view(displayed?.id)">
            <mat-icon>visibility</mat-icon>
          </button>
          <button mat-icon-button (click)="forward(displayed?.id)">
            <mat-icon>arrow_forward_ios</mat-icon>
          </button>
        </mat-action-list>
      } @else {
        <mat-card-content class="trip-guide-content">
          <div id="empty-vacation-list">
            You have nothing saved yet.
            <mat-icon>sentiment_dissatisfied</mat-icon>
            <a href="/home" id="create-new-trip"><em>Let's explore!</em></a>
          </div>
        </mat-card-content>
      }
    } @else {
      <mat-action-list class="action-buttons-card">
        <button class="action-buttons"
                style="margin-right: 20px;color: grey"
                (click)="changeOption(1)">My vacations</button>
        <button class="action-buttons"
                style="margin-right: 20px; font-weight: bold; border-bottom: 2px solid var(--dark-blue);"
                (click)="changeOption(2)">User's guide</button>
      </mat-action-list>

      <mat-divider style="border-top-color: rgba(0,0,0,0.24)"></mat-divider>

      <mat-card-content class="trip-guide-content">
        Aici o sa fie ghidul
      </mat-card-content>
    }
  </mat-card>
</div>
